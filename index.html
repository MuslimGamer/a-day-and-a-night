<!DOCTYPE html>
<html>
	<head>		
		<style>
			body {
				margin: 0px;
			}
		</style>
		
		<script src="lib/crafty-min.js"></script>
		<script src="lib/pouchdb-2.0.0.min.js"></script>				
		<script src="src/libraries/session-storage.js"></script>
		
		<!-- JSON data -->
		<script src="data/characters.js"></script>
		<script src="data/maps/worldMap.js"></script>
		<script src="data/maps/worldMap_tiles.js"></script>
		<script src="data/maps/worldMap_tileset.js"></script>
		<script src="data/maps/masjid.js"></script>
		<script src="data/maps/masjid_tiles.js"></script>
		<script src="data/maps/masjid_tileset.js"></script>
		
		<!-- Preloader -->
		<script src="src/scenes.js"></script>		
		
		<!-- Entities and components -->
		<script src="src/components/components.js"></script>
		<script src="src/components/positionalAudio.js"></script>
		<script src="src/components/interactive.js"></script>
		<script src="src/components/inventory.js"></script>
		
		<script src="src/components/timer.js"></script>
		<script src="src/components/fps.js"></script>		
		
        <script src="src/entities/npcs.js"></script>
        <script src="src/entities/player.js"></script>
        <script src="src/entities/door.js"></script>
        <script src="src/entities/dialogBox.js"></script>
        <script src="src/entities/gameTime.js"></script>
        <script src="src/entities/pointsManager.js"></script>        
        
        <!-- Core game -->
		<script src="src/game.js"></script>
		<script>
			// LOCAL ONLY: get the DIR.
			var loc = window.location.pathname;
			var dir = loc.substring(0, loc.lastIndexOf('/'));
			
			// For production, specify a relative URL
			var gameUrl = dir;
			
			window.addEventListener('load', Game.start);
		</script>        
	</head>
	<body>	
		<div id='cr-stage'></div>
		<input value="list maps" type="submit" onclick="console.debug('Maps:'); var maps = document.getElementsByTagName('script'); for (var i = 0; i < maps.length; i++) { var m = maps[i].src; if (m.indexOf('data/maps') !== -1 && m.indexOf('_tiles') === -1) { console.debug(m.substring(m.lastIndexOf('/') + 1, m.lastIndexOf('.'))); } }" />
		<input type="text" id="mapName" />
		<input value="change map" type="submit" onclick="loadMap(document.getElementById('mapName').value)" />
		<input value="reload current map" type="submit" onclick="reloadMap()" />
		
		<script src="debug.js"></script>
	</body>
</html>
